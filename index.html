<!DOCTYPE html>
    <head>
        <title>News Summary Challenge</title>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script>
            $(document).ready(function() {
                var makersAPI = "http://news-summary-api.herokuapp.com/guardian?apiRequestUrl="
                setUpPage()

                function setUpPage(){
                    $.ajax({
                        url: makersAPI + "http://content.guardianapis.com/search?",
                        dataType: 'json',
                        success: function(data){
                            for (var i = 0; i < data.response.results.length; i++){
                                createArticle(data.response.results[i])
                                getAPIData(data.response.results[i].apiUrl)
                            }
                        }
                    })
                }

                function createArticle(article){
                    div = document.createElement('div')
                    header = createHeader(article)
                    div.appendChild(header)
                    $(div).appendTo('body')
                }

                function createHeader(article){
                    h2 = document.createElement('h2')
                    link = document.createElement('a')
                    link.setAttribute("href", article.webUrl)
                    link.innerHTML = article.webTitle
                    h2.appendChild(link)
                    return h2
                }

                function getAPIData(string){
                    $.ajax({
                        url: makersAPI + removeSFromHTTPS(string) + "?show-fields=body",
                        dataType: 'json',
                        success: function(data){
                            console.log(data.response.content.fields)
                        }
                    })
                }

                function removeSFromHTTPS(string) {
                    return string.slice(0, 4) + string.slice(5);
                }

            });
        </script>
    </head>
    <body>

    </body>

</html>